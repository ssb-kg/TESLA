!function(t,n){(t=t).g2=t.g2||{},t.g2.cpLayerStandard=t.g2.cpLayerStandard||{},t.g2.cpLayerStandard.Component=function(){"use strict";return function(t){var n=window,i=n.jQuery,e=n.G2.util;function s(t,n){if(!(this instanceof s))return new s(t,n);var a={layerObj:t,tabList:".standard-popup__tab-list",customEvent:".Component"+(new Date).getTime()+Math.random()};this.opts=e.def(a,n||{}),(this.layerObj=i(this.opts.layerObj)).length&&this.init()}function a(t,n){if(!(this instanceof a))return new a(t,n);var s={tabItem:".standard-popup__tab-item",classAttr:{active:"is-active"},props:{},customEvent:".Component"+(new Date).getTime()+Math.random()};this.opts=e.def(s,n||{}),this.obj=i(t),this.obj.length&&this.init()}return s.prototype={init:function(){this.setElements(),this.bindCallBackEvents()},setElements:function(){this.tabList=this.layerObj.find(this.opts.tabList)},changeEvents:function(t){var n=[],i=t.split(" ");for(var e in i)n.push(i[e]+this.opts.customEvent);return n.join(" ")},bindCallBackEvents:function(){this.layerObj.on(this.changeEvents("layerOpenBefore"),i.proxy(this.openBeforeFunc,this)),this.layerObj.on(this.changeEvents("layerCloseAfter"),i.proxy(this.closeAfterFunc,this))},openBeforeFunc:function(){this.buildTab()},closeAfterFunc:function(){this.destroyTab()},buildTab:function(){e.def(this,{tab:{instances:[]}});for(var t=0,n=this.tabList.length;t<n;t++){var i=new a(this.tabList.eq(t));this.tab.instances.push(i)}},destroyTab:function(){for(var t=0,n=this.tab.instances.length;t<n;t++){this.tab.instances[t].kill()}this.tab.instances=[]},reInit:function(t){}},a.prototype={init:function(){this.setElements(),this.buildData(),this.bindEvents(!0)},setElements:function(){this.tabItem=this.obj.find(this.opts.tabItem)},buildData:function(){for(var t=0,n=this.tabItem.length;t<n;t++){var e=this.tabItem.eq(t),s=e.find("a"),a=i(s.attr("href"));this.opts.props[t]={LI:e,TAB:s,PANEL:a.length?a:null}}},changeEvents:function(t){var n=[],i=t.split(" ");for(var e in i)n.push(i[e]+this.opts.customEvent);return n.join(" ")},bindEvents:function(t){t?this.tabItem.on(this.changeEvents("click"),"a",i.proxy(this.tabClick,this)):this.tabItem.off(this.changeEvents("click"))},tabClick:function(t){t.preventDefault();var n=i(t.delegateTarget),e=this.tabItem.index(n);this.activePanel(e)},activePanel:function(t){var n=this.opts.props,e=this.opts.classAttr;i.proxy((function(t){for(var i in n)i!=t&&(n[i].LI.removeClass(e.active),n[i].PANEL.hide())}),this)(t),n[t].LI.addClass(e.active),n[t].PANEL.css("display","")},kill:function(){this.bindEvents(!1)},outCallback:function(t){var n=this.opts.on[t];null!=n&&n()}},s}()}()}(this),$((function(){!function(){"use strict";!function(t){var n=window,i=n.jQuery,e=n.G2.util;function s(t){var n={obj:".standard-popup"};this.opts=e.def(n,t||{}),(this.obj=i(this.opts.obj)).length&&this.init()}s.prototype={init:function(){this.callComponent()},callComponent:function(){for(var t=0,i=this.obj.length;t<i;t++)new n.g2.cpLayerStandard.Component(this.obj.eq(t))}},new s}()}()})),$((function(){var t=0,n=0,i=extension.YYYYMMDDHHMMSS().substring(0,12),e=$('a[data-check="PO1A-popup"]').data("layer-target").replace("#",""),s=$("#"+e).data("cookie-id");$(".standard-popup__tab-content").hide();for(var a=0;a<$("#"+e).find(".cm-layer__content > div").length;a++){var o=$("#"+e).find(".cm-layer__content > div").eq(a).data("tab-start-date"),r=$("#"+e).find(".cm-layer__content > div").eq(a).data("tab-end-date");console.log("startDate["+a+"] : ",o),console.log("endDate["+a+"] : ",r),o&&r&&(Number(o)<=Number(i)&&Number(r)>Number(i)?"y"!=getCookie(s)&&0==n&&(t=a,n++):$("#"+e).find(".standard-popup__tab-list > li:eq("+a+")").hide())}n>0&&($('a[data-layer-target="#'+e+'"]').click(),console.log("firstPopIdx : ",t),$("#"+e).find(".standard-popup__tab-content:eq("+t+")").show()),$("#"+e).find(".standard-popup__tab-item").on("click",(function(){$(this).removeClass("is-active"),$(this).addClass("is-active"),$(".standard-popup__tab-content").hide();var t=$(this).find("a").attr("href");$(t).show()})),$("#"+e).find(".cm-btn").on("click",(function(){$(this).parents(".cm-layer__content").siblings(".standard-popup__check-wrap").find(".is-checked").length>0&&setCookie(s,"y",7),$(this).parents(".cm-layer__content").siblings(".cm-layer__close-wrap").find("button.js-layer-closer").click()}))}));