!function(t,i){(t=t).g2=t.g2||{},t.g2.socialInsta=t.g2.socialInsta||{},t.g2.socialInsta.Component=function(){"use strict";return function(t){var i=window,a=i.jQuery,n=i.G2.util;function e(t,i){if(!(this instanceof e))return new e(t,i);var s={obj:t,socialContent:".social-feed__content",socialItem:".social-feed__item",socialCta:".social-feed__cta",viewLength:0,customEvent:".Component"+(new Date).getTime()+Math.random()};this.opts=n.def(s,i||{}),(this.obj=a(this.opts.obj)).length&&this.init()}return e.prototype={init:function(){this.setElements(),this.initOpts(),this.bindCallbackEvents()},setElements:function(){this.socialContent=this.obj.find(this.opts.socialContent),this.socialItem=this.obj.find(this.opts.socialItem),this.socialCta=this.obj.find(this.opts.socialCta),this.socialBtn=this.socialCta.find("button")},initOpts:function(){this.opts.viewLength=this.socialItem.length},changeEvents:function(t){var i=[],a=t.split(" ");for(var n in a)i.push(a[n]+this.opts.customEvent);return i.join(" ")},bindCallbackEvents:function(){this.obj.on(this.changeEvents("socialRefreshBefore"),a.proxy(this.socialRefreshBefore,this)),this.obj.on(this.changeEvents("socialRefreshAfter"),a.proxy(this.socialRefreshAfter,this))},socialRefreshBefore:function(t,i){i.useFocus&&(this.socialCta.css("height",this.socialCta.outerHeight(!0)),this.socialBtn.css("display","none"))},socialRefreshAfter:function(t,i){this.socialItem=this.obj.find(this.opts.socialItem);var a=this.socialItem.length;i.useFocus&&(this.socialCta.css("height",""),this.socialBtn.css("display","")),this.reCommonBuild(),this.opts.viewLength=a},reCommonBuild:function(){for(var t,a,n=this.obj.find(".cm-btn"),e=0,s=n.length;e<s;e++)t=e,a=void 0,"true"!=(a=n.eq(t)).attr("data-load")&&(a.attr("data-load","true"),new i.G2.Controller.CommonCta.Component(a));var o=this.obj.find(".cm-btn-more");for(e=0,s=o.length;e<s;e++)!function(t){var a=o.eq(t);"true"!=a.attr("data-load")&&(a.attr("data-load","true"),new i.G2.Controller.moreCta.Component(a))}(e);var r=this.obj.find(".js-svg-icon");for(e=0,s=r.length;e<s;e++)!function(t){var a=r.eq(t);"true"!=a.attr("data-load")&&(a.attr("data-load","true"),new i.G2.Controller.inlineSvg.Component(a))}(e)},reInit:function(t){}},e}()}()}(this),$((function(){!function(){"use strict";!function(t){var i=window,a=i.jQuery,n=i.G2.util;function e(t){var i={obj:".social-type-insta"};this.opts=n.def(i,t||{}),(this.obj=a(this.opts.obj)).length&&this.init()}e.prototype={init:function(){this.callComponent()},callComponent:function(){for(var t=0,a=this.obj.length;t<a;t++)new i.g2.socialInsta.Component(this.obj.eq(t))}},new e}()}()}));var aInstaItems=new Array,gInstaIdx=0;function showMoreInsta(t,a){var n=aInstaItems.length,e=$.parseHTML($.trim($("#jq_social_insta_list_template").text())),s=$("#aaDataLinkArea").val(),o=$("#aaDataLinkName").val(),r=$("#aaDataLinkTextInstaClick").val(),l=!1;for($("#jq_insta_more_cta").css("display","flex"),i=0;i<3;i++)if(gInstaIdx<n){var c=aInstaItems[gInstaIdx],h=$("#jq_social_insta_template").text(),f=$.parseHTML($.trim(h));$(f).find("a").attr("href",c.url),$(f).find("a").attr("data-link-area",s),$(f).find("a").attr("data-link-name",o),$(f).find("a").attr("data-link-text",c.url+"_"+r),$(f).find("#insta_title").html(c.title),$(f).find("#insta_description").html(c.description),$(f).find("#jq_insta_background").css("background-image","url("+c.thumbnailUrl+")"),$(e).find(".social-feed__list").append($(f)),++gInstaIdx==n&&($("#jq_insta_items_content").append($(e)),l=!0)}var d=t==a;l?$("#jq_insta_more_cta").css("display","none"):($("#jq_insta_more_cta").closest(".social-feed").trigger("socialRefreshBefore",{useFocus:d}),$("#jq_insta_items_content").append($(e))),$("#jq_insta_more_cta").closest(".social-feed").trigger("socialRefreshAfter",{useFocus:d})}function getInstaData(){var t="https://graph.facebook.com/"+$("#instaClientId").val()+"/media?fields=id%2Cmedia_type%2Cmedia_url%2Cpermalink%2Cthumbnail_url%2Cusername%2Ccaption&access_token="+$("#instaAccessToken").val()+"&limit=9";$.ajax({type:"GET",dataType:"jsonp",cache:!1,url:t,success:function(t){null!=t.data&&t.data.length>0?($.each(t.data,(function(t,i){var a=new Object,n="";n="VIDEO"===i.media_type?i.thumbnail_url:i.media_url,a.thumbnailUrl=n,a.description=i.caption,a.url=i.permalink,a.createTime=i.timestamp,aInstaItems.push(a)})),showMoreInsta()):($(".social-feed-instagram.parbase").hide(),console.log("instagram no data"))},error:function(){console.log("instagram error")}})}$(document).ready((function(){getInstaData()}));